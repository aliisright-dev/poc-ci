language: php

sudo: enabled

services:
  - docker

before_script:
  - docker-compose up -d
  - docker-compose exec php cp .env.travis .env
  - docker-compose exec db mysql -e 'create database homestead_test;'
  - docker-compose exec php composer self-update
  - docker-compose exec php composer install --no-interaction

script:
  - docker-compose exec php vendor/bin/phpunit
